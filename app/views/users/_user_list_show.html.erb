<div class="users-scroll-bar">
  <div class="list-group users-list">
    <% users.each do |user| %>
      <!-- 背景が青くなる -->
      <% if user.id == active_user.id %>
        <!-- avatarが登録されている場合 -->
        <% if user.profile.avatar.present? %>
          <%= link_to "/users/#{user.id}", class: "list-group-item active", :remote => true do %>
          <%= image_tag user.profile.avatar %>
          <%="#{user.profile.nickname}" %>
          <% end %>
        <!-- avatarが登録されてない場合 -->
        <% else %>
          <%= link_to "/users/#{user.id}", class: "list-group-item active", :remote => true do %>
          <%= image_tag('no_image.png') %>
          <%="#{user.profile.nickname}" %>
          <% end %>
        <% end %>
      <!-- 背景が白くなる -->
      <% else %>
        <!-- avatarが登録されている場合 -->
        <% if user.profile.avatar.present? %>
          <%= link_to "/users/#{user.id}", class: "list-group-item", :remote => true do %>
          <%= image_tag user.profile.avatar %>
          <%="#{user.profile.nickname}" %>
          <% end %>
        <!-- avatarが登録されてない場合 -->
        <% else %>
          <%= link_to "/users/#{user.id}", class: "list-group-item", :remote => true do %>
          <%= image_tag('no_image.png') %>
          <%="#{user.profile.nickname}" %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  </div>
</div>

<script>
  $(".list-group-item").on("click", function() {
    $(".list-group-item,.active").removeClass("active");
    $(this).addClass("active");
  });
</script>
